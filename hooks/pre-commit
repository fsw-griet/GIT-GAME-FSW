#!/bin/bash

# Get the current branch name
CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)

# Check if we're on the 'main' branch
if [ "$CURRENT_BRANCH" == "main" ]; then
  # Only run this part on the main branch
  if [ ! -f "level1_submit.txt" ]; then
    echo "âš ï¸ Error: level1_submit.txt is missing. Please add it before committing. ğŸ“"
    exit 1
  fi

  # Read the answer from the file and strip any newline characters
  ANSWER=$(cat level1_submit.txt | tr -d '\n')
  CORRECT_ANSWER="YPTDECR"

  # Check if the answer is correct
  if [ "$ANSWER" != "$CORRECT_ANSWER" ]; then
    echo "âŒ Error: Incorrect answer in level1_submit.txt. Please solve the riddle correctly. ğŸ”"
    exit 1
  fi

  # If the answer is correct, display the riddle and reward message
  echo ""
  echo "ğŸ‰ Great job! The answer in level1_submit.txt is correct. ğŸ‰"
  echo ""
  echo "ğŸ† Here is your reward 'd/e/1FA' remember me ğŸ’"
  echo ""
  echo "ğŸ§© solve this riddle: ğŸ§©"
  echo ""
  echo "Iâ€™m the phrase that starts it all, ğŸ‘©â€ğŸ’»"
  echo "For programmers big and small. ğŸ‘¨â€ğŸ’»"
  echo "In every language, I make my mark, âœï¸"
  echo "A greeting first, to light the spark. ğŸ’¡"
  echo "What am I? ğŸ¤”"
  echo ""
  echo "If you find me then go to my branch ğŸŒ¿"
  echo ""
  echo "Good luck on your journey! ğŸš€"
  echo ""
  echo "ğŸ‘‹ğŸ‘‹ğŸ‘‹"
  echo ""
fi

# Exit successfully
exit 0
